<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Franklin&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://franklinzhang1992.github.io/"/>
  <updated>2017-10-12T15:29:13.467Z</updated>
  <id>https://franklinzhang1992.github.io/</id>
  
  <author>
    <name>Franklin</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Influxdb + collectd to collect physical machine &amp; virtual performance statistics</title>
    <link href="https://franklinzhang1992.github.io/2017/10/12/influxdb-collectd-to-collect-physical-machine-virtual-performance-statistics/"/>
    <id>https://franklinzhang1992.github.io/2017/10/12/influxdb-collectd-to-collect-physical-machine-virtual-performance-statistics/</id>
    <published>2017-10-12T15:17:58.000Z</published>
    <updated>2017-10-12T15:29:13.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li>collectd<br>official doc: <a href="http://collectd.org/documentation/manpages/collectd.conf.5.shtml" target="_blank" rel="external">http://collectd.org/documentation/manpages/collectd.conf.5.shtml</a></li><li>influxdb<br>official doc: <a href="https://docs.influxdata.com/influxdb/v1.2/introduction/installation/" target="_blank" rel="external">https://docs.influxdata.com/influxdb/v1.2/introduction/installation/</a></li><li>grafana<br>official doc: <a href="http://docs.grafana.org/installation/rpm/" target="_blank" rel="external">http://docs.grafana.org/installation/rpm/</a></li></ol><h2 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h2><a id="more"></a><ul><li><p>collectd</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yum install collectd collectd-virt</div><div class="line">ervice collectd start</div></pre></td></tr></table></figure></li><li><p>influxdb</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">cat &lt;&lt;EOF | sudo tee /etc/yum.repos.d/influxdb.repo</div><div class="line">[influxdb]</div><div class="line">name = InfluxDB Repository - RHEL \$releasever</div><div class="line">baseurl = https://repos.influxdata.com/rhel/\$releasever/\$basearch/stable</div><div class="line">enabled = 1</div><div class="line">gpgcheck = 1</div><div class="line">gpgkey = https://repos.influxdata.com/influxdb.key</div><div class="line">EOF</div><div class="line">yum install influxdb</div><div class="line">service influxd start</div></pre></td></tr></table></figure></li><li><p>grafana</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yum install https://grafanarel.s3.amazonaws.com/builds/grafana-4.1.2-1486989747.x86_64.rpm</div><div class="line">service grafana-server start</div></pre></td></tr></table></figure></li></ul><h2 id="Influxdb-config-etc-influxdb-influxdb-conf"><a href="#Influxdb-config-etc-influxdb-influxdb-conf" class="headerlink" title="Influxdb config (/etc/influxdb/influxdb.conf):"></a>Influxdb config (/etc/influxdb/influxdb.conf):</h2><ul><li><p>Enable admin web:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[admin]</div><div class="line">enabled = true</div></pre></td></tr></table></figure></li><li><p>Enable collect plugin:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[[collectd]]</div><div class="line">  enabled = true</div><div class="line">  bind-address = &quot;:25826&quot; # the bind address</div><div class="line">  database = &quot;collectd&quot; # Name of the database that will be written to</div><div class="line">  batch-size = 5000 # will flush if this many points get buffered</div><div class="line">  batch-pending = 10 # number of batches that may be pending in memory</div><div class="line">  batch-timeout = &quot;10s&quot;</div><div class="line">  read-buffer = 0 # UDP read buffer size, 0 means to use OS default</div><div class="line">  typesdb = &quot;/usr/share/collectd/types.db&quot;</div></pre></td></tr></table></figure></li><li><p>Enable Auth:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[http]</div><div class="line">  auth-enabled = true</div></pre></td></tr></table></figure></li><li><p>Add admin user</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# influx</div><div class="line">Connected to http://localhost:8086 version 1.2.0</div><div class="line">InfluxDB shell version: 1.2.0</div><div class="line">&gt; CREATE USER &quot;root&quot; WITH PASSWORD &apos;root&apos; WITH ALL PRIVILEGES</div><div class="line">&gt;</div></pre></td></tr></table></figure></li></ul><h2 id="collectd-config-etc-collectd-conf"><a href="#collectd-config-etc-collectd-conf" class="headerlink" title="collectd config (/etc/collectd.conf):"></a>collectd config (/etc/collectd.conf):</h2><ul><li><p>Global setting:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Hostname    &quot;localhost&quot;</div><div class="line">FQDNLookup   false # If Hostname is determined automatically this setting controls whether or not the daemon should try to figure out the &quot;fully qualified domain name&quot;, FQDN.</div><div class="line">Interval     10 # collect performance data everry 10 seconds.</div></pre></td></tr></table></figure></li><li><p>Enable cpu plugin:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">LoadPlugin cpu</div><div class="line">&lt;Plugin cpu&gt;</div><div class="line">  ReportByCpu false</div><div class="line">  ReportByState false</div><div class="line">&lt;/Plugin&gt;</div></pre></td></tr></table></figure></li><li><p>Enable memory plugin:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">LoadPlugin memory</div><div class="line">&lt;Plugin memory&gt;</div><div class="line">  ValuesAbsolute false</div><div class="line">  ValuesPercentage true</div><div class="line">&lt;/Plugin&gt;</div></pre></td></tr></table></figure></li><li><p>Enable disk plugin:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">LoadPlugin disk</div></pre></td></tr></table></figure></li><li><p>Enable interface plugin:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">LoadPlugin interface</div></pre></td></tr></table></figure></li><li><p>Enable network plugin:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">LoadPlugin network</div><div class="line">&lt;Plugin network&gt;</div><div class="line">  Server &quot;localhost&quot; &quot;25826&quot;</div><div class="line">&lt;/Plugin&gt;</div></pre></td></tr></table></figure></li><li><p>Enable virt plugin:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">LoadPlugin virt</div><div class="line">&lt;Plugin virt&gt;</div><div class="line">  Connection &quot;qemu:///system&quot;</div><div class="line">  RefreshInterval  10</div><div class="line">&lt;/Plugin&gt;</div></pre></td></tr></table></figure></li></ul><h2 id="InfluxDB-SQL-example"><a href="#InfluxDB-SQL-example" class="headerlink" title="InfluxDB SQL example:"></a>InfluxDB SQL example:</h2><ol><li>Get VM disk read<br><code>SELECT &quot;value&quot; FROM &quot;virt_read&quot; WHERE &quot;host&quot; = &#39;centos7.0&#39; AND &quot;type&quot; = &#39;disk_octets&#39; AND &quot;type_instance&quot; = &#39;vda&#39;</code></li><li>Get VM disk write<br><code>SELECT &quot;value&quot; FROM &quot;virt_write&quot; WHERE &quot;host&quot; = &#39;centos7.0&#39; AND &quot;type&quot; = &#39;disk_octets&#39; AND &quot;type_instance&quot; = &#39;vda&#39;</code></li><li>Get VM network receive<br><code>SELECT &quot;value&quot; FROM &quot;virt_rx&quot; WHERE &quot;host&quot; = &#39;centos7.0&#39; AND &quot;type&quot; = &#39;if_octets&#39; AND &quot;type_instance&quot; = &#39;vnet0&#39;</code></li><li>Get VM network transfer<br><code>SELECT &quot;value&quot; FROM &quot;virt_tx&quot; WHERE &quot;host&quot; = &#39;centos7.0&#39; AND &quot;type&quot; = &#39;if_octets&#39; AND &quot;type_instance&quot; = &#39;vnet0&#39;</code></li><li>Get VM cpu usage<br><code>SELECT derivative(&quot;value&quot;, 10s)  / 100000000 FROM &quot;virt_value&quot; WHERE &quot;host&quot; = &#39;centos7.0&#39; AND &quot;type&quot; = &#39;virt_vcpu&#39; AND &quot;type_instance&quot; = &#39;0&#39;</code><br>[Description]<br>We cannot get cpu usage from libvirt directly, we can only get the cpuTime, in order to get cpu usage, we can follow the steps below:<br>5.1 cpu_time_diff = cpuTimenow — cpuTimet seconds ago<br>5.2 %CPU = 100 × cpu_time_diff / (t × nr_cores × 109)</li><li>Get PM disk read<br><code>SELECT &quot;value&quot; FROM &quot;disk_read&quot; WHERE &quot;host&quot; = &#39;localhost&#39; AND &quot;instance&quot; = &#39;sda&#39; AND &quot;type&quot; = &#39;disk_octets&#39;</code></li><li>Get PM disk write<br><code>SELECT &quot;value&quot; FROM &quot;disk_write&quot; WHERE &quot;host&quot; = &#39;localhost&#39; AND &quot;instance&quot; = &#39;sda&#39; AND &quot;type&quot; = &#39;disk_octets&#39;</code></li><li>Get PM network receive<br><code>SELECT &quot;value&quot; FROM &quot;interface_rx&quot; WHERE &quot;host&quot; = &#39;localhost&#39; AND &quot;instance&quot; = &#39;eno16777736&#39; AND &quot;type&quot; = &#39;if_octets&#39;</code></li><li>Get PM network transfer<br><code>SELECT &quot;value&quot; FROM &quot;interface_tx&quot; WHERE &quot;host&quot; = &#39;localhost&#39; AND &quot;instance&quot; = &#39;eno16777736&#39; AND &quot;type&quot; = &#39;if_octets&#39;</code></li><li>Get PM cpu usage<br><code>SELECT &quot;value&quot; FROM &quot;cpu_value&quot; WHERE &quot;host&quot; = &#39;localhost&#39; AND &quot;type&quot; = &#39;percent&#39; AND &quot;type_instance&quot; = &#39;active&#39;</code></li><li>Get PM memory usage<br><code>SELECT &quot;value&quot; FROM &quot;memory_value&quot; WHERE &quot;host&quot; = &#39;localhost&#39; AND &quot;type&quot; = &#39;percent&#39; AND &quot;type_instance&quot; = &#39;used&#39;</code></li></ol><hr><p>转载请注明：<a href="https://franklinzhang1992.github.io/">Franklin的博客</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Reference&quot;&gt;&lt;a href=&quot;#Reference&quot; class=&quot;headerlink&quot; title=&quot;Reference&quot;&gt;&lt;/a&gt;Reference&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;collectd&lt;br&gt;official doc: &lt;a href=&quot;http://collectd.org/documentation/manpages/collectd.conf.5.shtml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://collectd.org/documentation/manpages/collectd.conf.5.shtml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;influxdb&lt;br&gt;official doc: &lt;a href=&quot;https://docs.influxdata.com/influxdb/v1.2/introduction/installation/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://docs.influxdata.com/influxdb/v1.2/introduction/installation/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;grafana&lt;br&gt;official doc: &lt;a href=&quot;http://docs.grafana.org/installation/rpm/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://docs.grafana.org/installation/rpm/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;Setup&quot;&gt;&lt;a href=&quot;#Setup&quot; class=&quot;headerlink&quot; title=&quot;Setup&quot;&gt;&lt;/a&gt;Setup&lt;/h2&gt;
    
    </summary>
    
      <category term="technology" scheme="https://franklinzhang1992.github.io/categories/technology/"/>
    
    
      <category term="influxDB" scheme="https://franklinzhang1992.github.io/tags/influxDB/"/>
    
      <category term="collectd" scheme="https://franklinzhang1992.github.io/tags/collectd/"/>
    
      <category term="Grafana" scheme="https://franklinzhang1992.github.io/tags/Grafana/"/>
    
  </entry>
  
  <entry>
    <title>Fix Encoding Problems in Ruby</title>
    <link href="https://franklinzhang1992.github.io/2017/10/11/fix_encoding_problems_in_ruby/"/>
    <id>https://franklinzhang1992.github.io/2017/10/11/fix_encoding_problems_in_ruby/</id>
    <published>2017-10-11T02:00:34.000Z</published>
    <updated>2018-01-11T06:41:00.526Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.justinweiss.com/articles/3-steps-to-fix-encoding-problems-in-ruby/" target="_blank" rel="external">https://www.justinweiss.com/articles/3-steps-to-fix-encoding-problems-in-ruby/</a></p><hr><p>转载请注明：<a href="https://franklinzhang1992.github.io/">Franklin的博客</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.justinweiss.com/articles/3-steps-to-fix-encoding-problems-in-ruby/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.justi
      
    
    </summary>
    
      <category term="technology" scheme="https://franklinzhang1992.github.io/categories/technology/"/>
    
      <category term="转载" scheme="https://franklinzhang1992.github.io/categories/technology/%E8%BD%AC%E8%BD%BD/"/>
    
    
      <category term="encoding" scheme="https://franklinzhang1992.github.io/tags/encoding/"/>
    
      <category term="ruby" scheme="https://franklinzhang1992.github.io/tags/ruby/"/>
    
  </entry>
  
  <entry>
    <title>libguestfs 使用经验小结</title>
    <link href="https://franklinzhang1992.github.io/2017/10/06/libguestfs/"/>
    <id>https://franklinzhang1992.github.io/2017/10/06/libguestfs/</id>
    <published>2017-10-06T13:49:34.000Z</published>
    <updated>2018-01-09T08:07:38.761Z</updated>
    
    <content type="html"><![CDATA[<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>libguestfs是一组访问或修改虚拟机镜像文件的工具。本文将重点介绍下V2V与P2V两个工具。</p><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><ul><li>V2V<blockquote><p>Virt-v2v converts guests from a foreign hypervisor to run on KVM. It can read Linux and Windows guests running on VMware, Xen, Hyper-V and some other hypervisors, and convert them to KVM managed by libvirt, OpenStack, oVirt, Red Hat Virtualisation (RHV) or several other targets.</p></blockquote></li><li>P2V<blockquote><p>Virt-p2v converts a physical machine to run virtualized on KVM, managed by libvirt, OpenStack, oVirt, Red Hat Virtualisation (RHV), or one of the other targets supported by virt-v2v.</p></blockquote></li></ul><a id="more"></a><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><ul><li><p>V2V<br>V2V提供了很多不同的输入输出模式，用户通过<code>-i</code>与<code>-o</code>参数指定了输入输出模式后，V2V即可以开始正常的进行转换，使用起来十分方便。<a href="http://libguestfs.org/virt-v2v.1.html" target="_blank" rel="external">这里</a>详细介绍了virt-v2v命令的用法。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">                         ┌────────────┐  ┌─────────&gt; -o null</div><div class="line">-i disk ────────────┐    │            │ ─┘┌────────&gt; -o local</div><div class="line">-i ova  ──────────┐ └──&gt; │ virt-v2v   │ ──┘┌───────&gt; -o qemu</div><div class="line">                  └────&gt; │ conversion │ ───┘┌────────────┐</div><div class="line">VMware─&gt;┌────────────┐   │ server     │ ────&gt; -o libvirt │─&gt; KVM</div><div class="line">Xen ───&gt;│ -i libvirt ──&gt; │            │     │  (default) │</div><div class="line">... ───&gt;│  (default) │   │            │ ──┐ └────────────┘</div><div class="line">        └────────────┘   │            │ ─┐└────────&gt; -o glance</div><div class="line">-i libvirtxml ─────────&gt; │            │ ┐└─────────&gt; -o rhv</div><div class="line">-i vmx ────────────────&gt; │            │ └──────────&gt; -o vdsm</div><div class="line">                         └────────────┘</div></pre></td></tr></table></figure></li><li><p>P2V<br>对于P2V来说，它的功能是将物理机转换为运行在KVM上的虚拟机。正常来说，我们不会直接运行virt-p2v命令，而是用一个包含virt-p2v程序的启动盘来启动物理机。<a href="http://libguestfs.org/virt-p2v-make-kickstart.1.html" target="_blank" rel="external">这里</a>详细介绍了如何制作这个ISO。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">                           ┌────────────┐  ┌─────────&gt; -o null</div><div class="line">                           │            │ ─┘┌────────&gt; -o local</div><div class="line">                           │ virt-v2v   │ ──┘┌───────&gt; -o qemu</div><div class="line">                           │ conversion │ ───┘┌────────────┐</div><div class="line">                           │ server     │ ────&gt; -o libvirt │─&gt; KVM</div><div class="line">┌──────────┐               │            │     │  (default) │</div><div class="line">│ Physical │               │            │ ──┐ └────────────┘</div><div class="line">│ machine  │---(P2V ISO)─&gt; │            │ ─┐└────────&gt; -o glance</div><div class="line">└──────────┘               │            │ ┐└─────────&gt; -o rhv</div><div class="line">                           │            │ └──────────&gt; -o vdsm</div><div class="line">                           └────────────┘</div></pre></td></tr></table></figure></li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li>In Fedora or Red Hat Enterprise Linux:<br><code>sudo yum install libguestfs-tools</code></li><li>On Debian/Ubuntu:<br><code>sudo apt-get install libguestfs-tools</code></li></ul><h2 id="源码获取"><a href="#源码获取" class="headerlink" title="源码获取"></a>源码获取</h2><p>libguestfs是一个开源的软件，代码托管在GitHub上。<a href="https://github.com/libguestfs/libguestfs" target="_blank" rel="external">https://github.com/libguestfs/libguestfs</a></p><h2 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h2><h4 id="目录结构（为了更加清晰，这里只列举部分目录）"><a href="#目录结构（为了更加清晰，这里只列举部分目录）" class="headerlink" title="目录结构（为了更加清晰，这里只列举部分目录）"></a>目录结构（为了更加清晰，这里只列举部分目录）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">libguestfs</div><div class="line">    |</div><div class="line">    |-----p2v</div><div class="line">    |      |----main.c</div><div class="line">    |      |----gui.c</div><div class="line">    |      |----conversion.c</div><div class="line">    |      |----...</div><div class="line">    |</div><div class="line">    |-----v2v</div><div class="line">    |      |----cmdline.ml</div><div class="line">    |      |----v2v.ml</div><div class="line">    |      |----convert_linux.ml</div><div class="line">    |      |----convert_windows.ml</div><div class="line">    |      |----input_XXX.ml</div><div class="line">    |      |----output_XXX.ml</div><div class="line">    |      |----...</div><div class="line">    |</div><div class="line">    |-----...</div></pre></td></tr></table></figure><h4 id="下面是对这些文件功能的解读"><a href="#下面是对这些文件功能的解读" class="headerlink" title="下面是对这些文件功能的解读"></a>下面是对这些文件功能的解读</h4><ul><li><strong>main.c</strong><br>P2V客户端(基于GTK)启动文件，包含了一些初始化的内容。</li><li><strong>gui.c</strong><br>P2V客户端页面渲染，已经初始赋值。</li><li><strong>conversion.c</strong><br>将用户在UI界面上选择的信息与物理机基本属性放置于配置文件，并连接V2Vserver进行转换。</li><li><strong>cmdline.ml</strong><br>解析传给virt-v2v命令的参数。</li><li><strong>v2v.ml</strong><br>V2V的主方法。主要做了以下几件事：<ul><li>解析输入内容</li><li>生成空白disk image</li><li>将source OS的内容进行转换并写入之前创建好的空白disk image</li><li>调用目标hypervisor的接口来创建虚拟机</li></ul></li><li><strong>convert_linux.ml</strong><br>转换Linux系统相关的代码，包括修改fstab文件等。</li><li><strong>convert_windows.ml</strong><br>转换Windows系统相关的代码，包括对注册表的修改，virtio驱动的拷贝等。</li><li><strong>input_XXX.ml</strong><br>所有以<em>input_</em>开头的文件，每个分别对应一个<code>-i</code>选项，负责解析输入源。</li><li><strong>output_XXX.ml</strong><br>所有以<em>output_</em>开头的文件，每个分别对应一个<code>-o</code>选项，负责调用目标hypervisor的接口，来进行创建disk image，创建虚拟机等操作。</li></ul><h2 id="常见问题（持续更新）"><a href="#常见问题（持续更新）" class="headerlink" title="常见问题（持续更新）"></a>常见问题（持续更新）</h2><ul><li>有的时候，我们会发现对于Windows的系统的转换，在转换成功的虚拟机中，我们会发现<strong>virtio</strong>驱动并没有成功安装。这是因为libguestfs中的virtio驱动签名是RedHat，而对于Windows来说，RedHat的签名是不受信的，所以无法自动安装。遇到这种情况，一般有两种解决方案：<ul><li>在转换好的虚拟机中，打开设备管理器，选中驱动没有正常安装的设备(如：网卡)，然后手动选择驱动安装即可。（注：在转换的时候，P2V工具已经将相应的virtio驱动拷贝到了虚拟机中）</li><li>在转换之前，先将RedHat证书加入Windows受信列表中，P2V即可在转换后的虚拟机首次启动后自动完成virtio驱动的安装。</li></ul></li></ul><hr><p>转载请注明：<a href="https://franklinzhang1992.github.io/">Franklin的博客</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;概述&quot;&gt;&lt;a href=&quot;#概述&quot; class=&quot;headerlink&quot; title=&quot;概述&quot;&gt;&lt;/a&gt;概述&lt;/h2&gt;&lt;p&gt;libguestfs是一组访问或修改虚拟机镜像文件的工具。本文将重点介绍下V2V与P2V两个工具。&lt;/p&gt;
&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;V2V&lt;blockquote&gt;
&lt;p&gt;Virt-v2v converts guests from a foreign hypervisor to run on KVM. It can read Linux and Windows guests running on VMware, Xen, Hyper-V and some other hypervisors, and convert them to KVM managed by libvirt, OpenStack, oVirt, Red Hat Virtualisation (RHV) or several other targets.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;P2V&lt;blockquote&gt;
&lt;p&gt;Virt-p2v converts a physical machine to run virtualized on KVM, managed by libvirt, OpenStack, oVirt, Red Hat Virtualisation (RHV), or one of the other targets supported by virt-v2v.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="technology" scheme="https://franklinzhang1992.github.io/categories/technology/"/>
    
    
      <category term="libguestfs" scheme="https://franklinzhang1992.github.io/tags/libguestfs/"/>
    
      <category term="opensource" scheme="https://franklinzhang1992.github.io/tags/opensource/"/>
    
      <category term="P2V" scheme="https://franklinzhang1992.github.io/tags/P2V/"/>
    
      <category term="V2V" scheme="https://franklinzhang1992.github.io/tags/V2V/"/>
    
  </entry>
  
  <entry>
    <title>How to write a user friendly Crontab like task scheduler with java</title>
    <link href="https://franklinzhang1992.github.io/2017/10/06/write-a-more-user-friendly-task-scheduler-with-java/"/>
    <id>https://franklinzhang1992.github.io/2017/10/06/write-a-more-user-friendly-task-scheduler-with-java/</id>
    <published>2017-10-06T09:43:39.000Z</published>
    <updated>2018-01-08T09:45:04.024Z</updated>
    
    <content type="html"><![CDATA[<p>In previous version of the task scheduler (described <a href="https://franklinzhang1992.github.io/2017/10/04/write-task-scheduler-with-java/">here</a>), you may find that the task is not executed at the time you expect. For example: If you create a task with a cron expression like <code>0 20 15 */3 *</code> at <strong>2017-09-15 10:00</strong>. Ideally, you expect it to be executed at today’s 20:00 (<strong>2017-09-15 20:00</strong>). However, the truth is you will find that the next run time calculated by the Crontab algorithm is <strong>2017-10-15 20:00:00</strong>. You may feel strange because current time is 10:00 and there are still 10 hours left before it turns to 20:00, so why not the task will be executed at today’s 20:00 and execute again at 20:00 three months later? Also, there is only one month between September and October, there seems to be no evidence proves that this is a every-3-months task.<br>This scenario is pretty common, especially for those who does not quite understand how Linux Crontab deals with the cron expression. So based on the algorithm described in my previous blog, here I will provide a solution to make the calculated execution time more user friendly.</p><h6 id="Before-we-start-let’s-learn-about-how-Linux-Crontab-deals-with-the-cron-expression-and-determine-the-next-run-time"><a href="#Before-we-start-let’s-learn-about-how-Linux-Crontab-deals-with-the-cron-expression-and-determine-the-next-run-time" class="headerlink" title="Before we start, let’s learn about how Linux Crontab deals with the cron expression and determine the next run time."></a>Before we start, let’s learn about how Linux Crontab deals with the cron expression and determine the next run time.</h6><a id="more"></a><p>Just like what we did in my previous blog, all fields of a cron expression can finally be converted to the form like <code>x-y/z</code> (x is start, y is stop and z is step) and based on the 3 values, we can generate an array which contains all valid values in this field. Let’s use the expression <code>0 20 15 */3 *</code> as an example, for the month field the <code>*/3</code> can be converted to <code>1-31/3</code>, so we can conclude: start is 1, stop is 31 and step is 3. And with this 3 values, we can get an array <code>[1, 4, 7, 10]</code> (Because the first value in a month is 1). Still in this case, as current time is <strong>2017-09-15</strong>, so the nearest month we can get from the array is 10. Now you know why the next run time is October, right? Other fields keep the same logic so I just do not say much about them.</p><h6 id="Do-you-understand-the-Linux-Crontab’s-calculating-next-run-time-logic-If-so-I-am-happy-to-say-that-you-can-go-on-reading-my-blog-Next-I-will-describe-how-I-make-the-scheduler-more-user-friendly"><a href="#Do-you-understand-the-Linux-Crontab’s-calculating-next-run-time-logic-If-so-I-am-happy-to-say-that-you-can-go-on-reading-my-blog-Next-I-will-describe-how-I-make-the-scheduler-more-user-friendly" class="headerlink" title="Do you understand the Linux Crontab’s calculating next run time logic? If so, I am happy to say that you can go on reading my blog. Next, I will describe how I make the scheduler more user friendly."></a>Do you understand the Linux Crontab’s calculating next run time logic? If so, I am happy to say that you can go on reading my blog. Next, I will describe how I make the scheduler more user friendly.</h6><h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><ul><li>The next run time should be calculated based on the current time. We still use the expression <code>0 20 15 */3 *</code> as an example, we want to calculated next run time should be as below:<ul><li>If current time is <strong>2017-09-15 10:00</strong> (earlier than 20:00), then the next run time should just be today’s 20:00 (<strong>2017-09-15 20:00</strong>).</li><li>If current time is <strong>2017-09-15 21:00</strong> (later than 20:00), then the next run time should be at 20:00 three months later (<strong>2017-12-15 20:00</strong>).</li></ul></li><li>For all every-X-minutes, hours etc. tasks, the interval between each execution times should always be the same. For example, if it is a every 7 months task, in original Linux Crontab, the task will be executed at January, August and next year’s January etc. However, we can see that the interval between August and next year’s January is 5 months, not 7 months. Obviously this will confuse some users. So we need to figure out a solution to let it be executed at next year’s March and then the interval will still be 7 months.</li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>The solution is simple, as you know, our algorithm of calculating next run time is just finding the nearest value from current time in the array list. So the secret of how we can make the scheduler more user friendly is just make the array list be a dynamic list, the each field’s array should be updated when its parent time unit is nudged.<br>For example, if we nudge month field to next month, then the day-of-month field’s array should be updated. We should count from the last valid value in the array list, plus the step, and use the new value as the start value of the new array, the step in the new array is just the same as the old one.</li><li>Below is a demo of how we update the array. We use the expression <code>0 20 15 */7 *</code> as an example (we assume current time is <strong>2017-09-15 16:00</strong>), let’s focus on the month field.<ul><li>As current month is September, and the step is 7, in order to include September into the array, the minimum value in the array should be 2 and the array will be <code>[2, 9]</code>.</li><li>When we calculating the next run time, the nearest month is September, and the nearest date is 15th. As current time <strong>16:00</strong> is earlier than <strong>20:00</strong>, so the first run time should be <strong>2017-09-15 20:00</strong>. Goal 1 is satisfied.</li><li>When we continue to figure out the next run time, here comes the key, if we do not update the array, then the next run time will be in next year’s February, but actually we want it to be executed at next year’s April. So obviously the values in the month field’s array are not accurate if we nudge to the next year.<br>To resolve this, first, we need to pick out the last value in the array (<strong>9</strong>) and plus it with the step (<strong>7</strong>), we can use java class <strong>Calendar</strong> for the time calculation and we will easily get the new value which means next year’s April (Note. in java Calendar, April is represented as 3 but in Crontab, April is represented as 4, so we need to do a conversion). Now let’s use the new value as the first value in the new array and generate a new array with the step field, the new array will be like <code>[4, 11]</code>. With the new array, we can correctly get the next run time <strong>2018-04-15 20:00</strong>. Bingo.</li></ul></li><li>For other fields, as the logic is just the same, so I don’t say much about them. I just list the rules below (The first column shows which field is nudged, the second field shows which field’s array should be udpated):</li></ul><table><thead><tr><th>Nudged field</th><th>Updated array</th></tr></thead><tbody><tr><td>Year field</td><td>Month field’s array</td></tr><tr><td>Month field</td><td>Day of month field’s array</td></tr><tr><td>Day of month field</td><td>Hour field’s array</td></tr><tr><td>Hour field</td><td>Minute field’s array</td></tr></tbody></table><p>P.S. No array needs to be updated when minute field is nudged. And for day-of-week field, we do not nudge it as it is enough to just nudge the day-of-month field and it equals to nudge the day-of-week field.</p><hr><h6 id="Still-I-will-show-you-a-demo-to-help-you-understand-it-Click-here-for-the-demo"><a href="#Still-I-will-show-you-a-demo-to-help-you-understand-it-Click-here-for-the-demo" class="headerlink" title="Still, I will show you a demo to help you understand it. Click here for the demo."></a>Still, I will show you a demo to help you understand it. Click <a href="https://github.com/FranklinZhang1992/unity-learning/tree/master/java/TaskSchedulerAdvance" target="_blank" rel="external">here</a> for the demo.</h6><hr><p>转载请注明：<a href="https://franklinzhang1992.github.io/">Franklin的博客</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;In previous version of the task scheduler (described &lt;a href=&quot;https://franklinzhang1992.github.io/2017/10/04/write-task-scheduler-with-java/&quot;&gt;here&lt;/a&gt;), you may find that the task is not executed at the time you expect. For example: If you create a task with a cron expression like &lt;code&gt;0 20 15 */3 *&lt;/code&gt; at &lt;strong&gt;2017-09-15 10:00&lt;/strong&gt;. Ideally, you expect it to be executed at today’s 20:00 (&lt;strong&gt;2017-09-15 20:00&lt;/strong&gt;). However, the truth is you will find that the next run time calculated by the Crontab algorithm is &lt;strong&gt;2017-10-15 20:00:00&lt;/strong&gt;. You may feel strange because current time is 10:00 and there are still 10 hours left before it turns to 20:00, so why not the task will be executed at today’s 20:00 and execute again at 20:00 three months later? Also, there is only one month between September and October, there seems to be no evidence proves that this is a every-3-months task.&lt;br&gt;This scenario is pretty common, especially for those who does not quite understand how Linux Crontab deals with the cron expression. So based on the algorithm described in my previous blog, here I will provide a solution to make the calculated execution time more user friendly.&lt;/p&gt;
&lt;h6 id=&quot;Before-we-start-let’s-learn-about-how-Linux-Crontab-deals-with-the-cron-expression-and-determine-the-next-run-time&quot;&gt;&lt;a href=&quot;#Before-we-start-let’s-learn-about-how-Linux-Crontab-deals-with-the-cron-expression-and-determine-the-next-run-time&quot; class=&quot;headerlink&quot; title=&quot;Before we start, let’s learn about how Linux Crontab deals with the cron expression and determine the next run time.&quot;&gt;&lt;/a&gt;Before we start, let’s learn about how Linux Crontab deals with the cron expression and determine the next run time.&lt;/h6&gt;
    
    </summary>
    
      <category term="technology" scheme="https://franklinzhang1992.github.io/categories/technology/"/>
    
    
      <category term="Crontab" scheme="https://franklinzhang1992.github.io/tags/Crontab/"/>
    
      <category term="java" scheme="https://franklinzhang1992.github.io/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>How to write a Crontab like task scheduler with java</title>
    <link href="https://franklinzhang1992.github.io/2017/10/05/write-task-scheduler-with-java/"/>
    <id>https://franklinzhang1992.github.io/2017/10/05/write-task-scheduler-with-java/</id>
    <published>2017-10-05T03:30:32.000Z</published>
    <updated>2018-01-08T09:45:04.024Z</updated>
    
    <content type="html"><![CDATA[<p>Most people knows that there is a tool called Crontab in Linux and we can use it to execute some scheduled tasks. Normally, we just use it to call a script periodically and we write our business stuff in this script. This approach works for most of the cases. However, what if you want to integrate it to your project? You want to do some validations to let user know that they typed in a wrong cron expression and you want to store all tasks in your database instead of files. These will all be described in this blog.</p><hr><h6 id="Before-we-start-a-general-introduction-of-Crontab-time-expression-will-be-described-This-is-important-because-our-self-written-task-scheduler-will-still-based-on-the-Crontab-time-expression"><a href="#Before-we-start-a-general-introduction-of-Crontab-time-expression-will-be-described-This-is-important-because-our-self-written-task-scheduler-will-still-based-on-the-Crontab-time-expression" class="headerlink" title="Before we start, a general introduction of Crontab time expression will be described (This is important because our self-written task scheduler will still based on the Crontab time expression):"></a>Before we start, a general introduction of Crontab time expression will be described (This is important because our self-written task scheduler will still based on the Crontab time expression):</h6><h2 id="Crontab-time-expression"><a href="#Crontab-time-expression" class="headerlink" title="Crontab time expression"></a>Crontab time expression</h2><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">.---------------- minute (0 - 59)</div><div class="line">|  .------------- hour (0 - 23)</div><div class="line">|  |  .---------- day of month (1 - 31)</div><div class="line">|  |  |  .------- month (1 - 12)</div><div class="line">|  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7)</div><div class="line">|  |  |  |  |</div><div class="line">*  *  *  *  *</div></pre></td></tr></table></figure><ol><li>The first column means minute, every-X-minutes can be represented as <code>*/X</code>, you can also specify some specified minutes with an expression like (each numbers are separated by a comma): <code>1,3,5</code> or a specified range with <code>1-3</code>.</li><li>The second column means hour, every-X-hours can be represented as  <code>*/X</code>, you can also specify some specified hours with an expression like (each numbers are separated by a comma): <code>1,3,5</code> or a specified range with <code>1-3</code>.</li><li>The third column means day, every-X-days can be represented as  <code>*/X</code>, you can also specify some specified days with an expression like (each numbers are separated by a comma): <code>1,3,5</code> or a specified range with <code>1-3</code>.</li><li>The forth column means month, every-X-months can be represented as  <code>*/X</code>, you can also specify some specified months with an expression like (each numbers are separated by a comma): <code>1,3,5</code> or a specified range with <code>1-3</code>.</li><li>The fifth column means day of week, every-X-days in a week can be represented as  <code>*/X</code>, you can also specify some specified days in a week with an expression like (each numbers are separated by a comma): <code>1,3,5</code> or a specified range with <code>1-3</code>.</li></ol><h2 id="Some-examples-to-help-you-understand-Crontab-time-format-better"><a href="#Some-examples-to-help-you-understand-Crontab-time-format-better" class="headerlink" title="Some examples to help you understand Crontab time format better"></a>Some examples to help you understand Crontab time format better</h2><ol><li><code>30 8 * * *</code> means the task will be executed at 8:30 every day.</li><li><code>0 9 1,5,10 * *</code> means the task will be executed at 9:00 on the 1st, 5th and 10th day of the month.</li><li><code>10 1 * * 0,6</code> means the task will be executed at 1:10 every Saturday and Sunday.</li><li><code>8 8 1 */2 *</code> means the task will be executed at 8:08 on first day of every 2 months.</li><li><code>30 8 10 3-10 *</code> means the task will be executed at 8:30 on 10th from March to October.</li></ol><hr><h6 id="Now-you-must-know-better-about-the-Crontab-time-expression-it-seems-it-is-time-to-start-write-our-own-task-scheduler-based-on-the-Crontab-time-expression"><a href="#Now-you-must-know-better-about-the-Crontab-time-expression-it-seems-it-is-time-to-start-write-our-own-task-scheduler-based-on-the-Crontab-time-expression" class="headerlink" title="Now you must know better about the Crontab time expression, it seems it is time to start write our own task scheduler based on the Crontab time expression."></a>Now you must know better about the Crontab time expression, it seems it is time to start write our own task scheduler based on the Crontab time expression.</h6><h2 id="Validations-and-calculating-next-run-time"><a href="#Validations-and-calculating-next-run-time" class="headerlink" title="Validations and calculating next run time"></a>Validations and calculating next run time</h2><ul><li><p>As we know, each fields in the Crontab expression are separated by a white space, so the first step we need to do is to extract each field in the received string. We can simply do this with below code slice:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String[] fields = cronString.split(<span class="string">"\\s+"</span>);</div></pre></td></tr></table></figure></li><li><p>As each field has its own range, but they all have the same syntax, so we can first figure our current field’s range and send its range to a common method for validation.</p><ul><li>Minute: minimum value = 0, maximum value = 59</li><li>Hour: minimum value = 0, maximum value = 23</li><li>Day of Month: minimum value = 1, maximum value = 31</li><li>Month: minimum value = 1, maximum value = 12</li><li>Day of Week: minimum value = 0, maximum value = 7 (Because 0 or 7 both represent Sunday, so its range is 0-7, but to make our work easier, we need to convert 7 to 0 inside our code)</li></ul></li><li><p>In the common validation method, we only need three parameters, the string of the field, the minimum value allowed for this field and the maximum value allowed for this field. Now we have a question, the string of field can be like any of below forms, how can we make it easier to validate if the string is valid?</p><ul><li><code>*</code></li><li><code>1,3,5</code></li><li><code>1-5</code></li><li><code>*/2</code></li><li><code>1-5/2</code><br>The answer is: we need to convert the <code>*</code> symbol to the range it represents (from the minimum value of this field to the maximum value), below is the code slice of how to do this:<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String convertedValue = fieldStr.replaceAll(<span class="string">"^\\*"</span>, min + <span class="string">"-"</span> + max);</div></pre></td></tr></table></figure></li></ul></li><li><p>After the conversion, we just need to valid the string in below formats:</p><ul><li><code>1,3,5</code></li><li><code>1-5</code></li><li><code>1-5/2</code><br>We can see that we can still meet an uncommon format <code>1,3,5</code>, we do not want to validate a string in this format separately, so what to do? An easy way is to separate the string by <code>,</code> symbol, then there will be only one type of the string.</li><li><code>1-5</code> A range</li><li><code>1-5/2</code> A range with steps</li></ul></li><li>After the separation, the converted string will contain below parts:<ul><li>start: The start value of the field.</li><li>stop(optional): The stop value of the field, if there is only one specified value, then the stop value will just be the same as the start value.</li><li>step(optional): The step value of the field (AKA. every-X-minutes, hours etc.)<br>Here we may need to extract them from the string via regular expression <code>^(\\d+)(-(\\d+)(/(\\d+))?)?$</code> and below is what we will do after we match the string with the regular expression.</li><li>If the string does not match to the regular expression, then it means this field is not valid.</li><li>If the string matches to the regular expression, then:<ul><li>Group 1 is the start value.</li><li>Group 2 is the stop value. If this value is null, then we need to set this value with the start value.</li><li>Group 3 is the step value. If this value is null, then we need to set this value as 1.</li></ul></li></ul></li><li>Now it is time to validate if all of the three values are in the given range. The rules are as below:<ul><li>min &lt;= start &lt;= max</li><li>min &lt;= stop &lt;= max</li><li>(stop - start + 1) &gt;= step &amp;&amp; step &gt;= 1</li></ul></li><li><p>Since then, all validations are done. Next, we should make some preparations for calculating next run time. Actually, the only preparation we need is to put all valid values of the field into an array.<br>For example: If the month field is <code>*/3</code>, then the array will be like <code>[1, 4, 7, 10]</code>, all values in this array are calculated by the <strong>start</strong>, <strong>stop</strong> and <strong>step</strong>. See an example method of how to get the array.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> List&lt;Integer&gt; <span class="title">getSteppedRange</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> start, <span class="keyword">final</span> <span class="keyword">int</span> stop, <span class="keyword">final</span> <span class="keyword">int</span> step)</span> </span>&#123;</div><div class="line">    List&lt;Integer&gt; steppedRange = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">    <span class="keyword">if</span> (start == stop &amp;&amp; step == <span class="number">1</span>) &#123;</div><div class="line">        steppedRange.add(start);</div><div class="line">        <span class="keyword">return</span> steppedRange;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> len = stop - start;</div><div class="line">    <span class="keyword">int</span> num = len / step;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= num; i++) &#123;</div><div class="line">        steppedRange.add(start + step * i);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> steppedRange;</div><div class="line">&#125;</div></pre></td></tr></table></figure></li><li><p>After we set the arrays for each of the field, all preparations for calculating next run time are done. Below is the work flow which can make the calculating algorithm easier to understand:</p><ul><li><p>A table indicates the Crontab fields and the arrays which contain all valid values of the field.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">+--------------+-----------------+</div><div class="line">|    Field     |     Array       |</div><div class="line">+==============+=================+</div><div class="line">| minute       | minuteArray     |</div><div class="line">+--------------+-----------------+</div><div class="line">| hour         | hourArray       |</div><div class="line">+--------------+-----------------+</div><div class="line">| day of month | dayOfMonthArray |</div><div class="line">+--------------+-----------------+</div><div class="line">| month        | monthArray      |</div><div class="line">+--------------+-----------------+</div><div class="line">| day of week  | dayOfWeekArray  |</div><div class="line">+--------------+-----------------+</div></pre></td></tr></table></figure></li><li><p>The work flow of how we calculate next run time.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">+-------+</div><div class="line">| start |</div><div class="line">+-------+</div><div class="line">    |   +----------------------------------------------------------+</div><div class="line">    +--&gt;| generate a time pointer and let it point to current time |</div><div class="line">        +----------------------------------------------------------+</div><div class="line">                                |   +---------------------------------------------+</div><div class="line">                                +--&gt;| find nearest month in the monthArray        |</div><div class="line">                                    | and let the time pointer point to the month |</div><div class="line">                                    +---------------------------------------------+</div><div class="line">                                                     |    +----------------------------------------------+</div><div class="line">                                                     +---&gt;| find nearest day of month in dayOfMonthArray |</div><div class="line">                                                          | the day should also in dayOfWeekArray and    |</div><div class="line">                                                          | let the time pointer point to the day        |</div><div class="line">                                                          +----------------------------------------------+</div><div class="line">                                    +----------------------------------------+    |</div><div class="line">                                    | find nearest hour in the hourArray and |&lt;---+</div><div class="line">                                    | let the time pointer point to the hour |</div><div class="line">                                    +----------------------------------------+</div><div class="line">     +--------------------------------------------+      |</div><div class="line">     | find nearest minute in the minuteArray and |&lt;-----+</div><div class="line">     | let the time pointer point to the minute   |</div><div class="line">     +--------------------------------------------+</div></pre></td></tr></table></figure></li></ul></li></ul><h2 id="Additional-functions"><a href="#Additional-functions" class="headerlink" title="Additional functions"></a>Additional functions</h2><h6 id="In-some-cases-you-may-want-to-let-the-task-be-executed-at-a-specified-time-We-call-this-kind-of-task-a-one-time-task-the-difference-between-a-one-time-task-and-other-tasks-is-that-it-has-an-additional-field-year-field-Then-I-will-explain-how-deal-with-the-one-time-task-based-on-our-previous-algorithm"><a href="#In-some-cases-you-may-want-to-let-the-task-be-executed-at-a-specified-time-We-call-this-kind-of-task-a-one-time-task-the-difference-between-a-one-time-task-and-other-tasks-is-that-it-has-an-additional-field-year-field-Then-I-will-explain-how-deal-with-the-one-time-task-based-on-our-previous-algorithm" class="headerlink" title="In some cases, you may want to let the task be executed at a specified time. We call this kind of task a one time task, the difference between a one time task and other tasks is that it has an additional field: year field. Then I will explain how deal with the one time task based on our previous algorithm."></a>In some cases, you may want to let the task be executed at a specified time. We call this kind of task a one time task, the difference between a one time task and other tasks is that it has an additional field: year field. Then I will explain how deal with the one time task based on our previous algorithm.</h6><ul><li>First, let’s look at an example <code>30 8 1 10 * 2017</code>, this is a typical one time expression (like a variation of traditional Crontab expression), this expression means the task should be executed at <strong>2017-10-01 8:30</strong>.</li><li>To let your scheduler support the one time task, you should add the sixth field (year field) for your scheduler, this field should store the year number. When you start calculating the next run time, you should first let the time pointer mentioned in above work flow point to the specified year and after that, the logic is just the same.</li></ul><h6 id="In-another-case-if-you-are-familiar-with-Linux-Crontab-you-would-know-that-for-the-day-of-week-field-the-step-means-every-X-days-in-a-week-not-every-X-weeks-so-what-should-we-do-if-we-want-to-let-our-scheduler-support-the-every-X-weeks-task-My-solution-is-as-below"><a href="#In-another-case-if-you-are-familiar-with-Linux-Crontab-you-would-know-that-for-the-day-of-week-field-the-step-means-every-X-days-in-a-week-not-every-X-weeks-so-what-should-we-do-if-we-want-to-let-our-scheduler-support-the-every-X-weeks-task-My-solution-is-as-below" class="headerlink" title="In another case, if you are familiar with Linux Crontab, you would know that for the day-of-week field, the step means every X days in a week, not every X weeks, so what should we do if we want to let our scheduler support the every-X-weeks task? My solution is as below:"></a>In another case, if you are familiar with Linux Crontab, you would know that for the day-of-week field, the step means every X days in a week, not every X weeks, so what should we do if we want to let our scheduler support the every-X-weeks task? My solution is as below:</h6><ul><li>First, we can see a truth that the <strong>step</strong> of day-of-week field should between 0 and 7, so I just plan to let the every-X-weeks’ expression be like <code>*/14</code>, when the step is beyond 7 and it is an integral multiple of 7, then we will treat it as a every-X-weeks expression.</li><li>When we extract the <strong>step</strong> from day-of-week field, will pick the <strong>step</strong> part first, and get the X (X = step / 7), we should record this value (jumpWeekCount) for later use can reset the <strong>step</strong> field to Y (Y = original_step &gt; 7 ? 1 : original_step).</li><li>When we start calculating the next run time, we should check if we need to skip some weeks for the task (jumpWeekCount &gt; 1 or not). If so, we should call original logic to calculate the next run time and check whether the days between next run time and now is integer multiple of  7 * jumpWeekCount. In this way, we can both reuse previous calculating next run time logic and ensure the next run time is indeed the one we expect.</li></ul><h2 id="A-demo-project"><a href="#A-demo-project" class="headerlink" title="A demo project"></a>A demo project</h2><ul><li>Now you have got a general idea of the algorithm of Crontab, so its time to have a look at my demo. This demo implements a simple task scheduler. You can copy the code, change the code and integrate it into your own project.<br>Click <a href="https://github.com/FranklinZhang1992/unity-learning/tree/master/java/TaskScheduler" target="_blank" rel="external">here</a> for the demo.</li></ul><hr><p>转载请注明：<a href="https://franklinzhang1992.github.io/">Franklin的博客</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Most people knows that there is a tool called Crontab in Linux and we can use it to execute some scheduled tasks. Normally, we just use it to call a script periodically and we write our business stuff in this script. This approach works for most of the cases. However, what if you want to integrate it to your project? You want to do some validations to let user know that they typed in a wrong cron expression and you want to store all tasks in your database instead of files. These will all be described in this blog.&lt;/p&gt;
&lt;hr&gt;
&lt;h6 id=&quot;Before-we-start-a-general-introduction-of-Crontab-time-expression-will-be-described-This-is-important-because-our-self-written-task-scheduler-will-still-based-on-the-Crontab-time-expression&quot;&gt;&lt;a href=&quot;#Before-we-start-a-general-introduction-of-Crontab-time-expression-will-be-described-This-is-important-because-our-self-written-task-scheduler-will-still-based-on-the-Crontab-time-expression&quot; class=&quot;headerlink&quot; title=&quot;Before we start, a general introduction of Crontab time expression will be described (This is important because our self-written task scheduler will still based on the Crontab time expression):&quot;&gt;&lt;/a&gt;Before we start, a general introduction of Crontab time expression will be described (This is important because our self-written task scheduler will still based on the Crontab time expression):&lt;/h6&gt;&lt;h2 id=&quot;Crontab-time-expression&quot;&gt;&lt;a href=&quot;#Crontab-time-expression&quot; class=&quot;headerlink&quot; title=&quot;Crontab time expression&quot;&gt;&lt;/a&gt;Crontab time expression&lt;/h2&gt;
    
    </summary>
    
      <category term="technology" scheme="https://franklinzhang1992.github.io/categories/technology/"/>
    
    
      <category term="Crontab" scheme="https://franklinzhang1992.github.io/tags/Crontab/"/>
    
      <category term="java" scheme="https://franklinzhang1992.github.io/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>GitHub Markdown Guide</title>
    <link href="https://franklinzhang1992.github.io/2017/10/04/github-markdown-guide/"/>
    <id>https://franklinzhang1992.github.io/2017/10/04/github-markdown-guide/</id>
    <published>2017-10-04T11:40:15.000Z</published>
    <updated>2018-01-08T09:45:04.024Z</updated>
    
    <content type="html"><![CDATA[<p>GitHub Markdown is not a standard Markdown, but a GitHub flavored Markdown.<br>See below link for the detailed usage of GitHub Markdown:<br><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" rel="external">https://guides.github.com/features/mastering-markdown/</a></p><hr><p>转载请注明：<a href="https://franklinzhang1992.github.io/">Franklin的博客</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;GitHub Markdown is not a standard Markdown, but a GitHub flavored Markdown.&lt;br&gt;See below link for the detailed usage of GitHub Markdown:&lt;
      
    
    </summary>
    
      <category term="technology" scheme="https://franklinzhang1992.github.io/categories/technology/"/>
    
      <category term="转载" scheme="https://franklinzhang1992.github.io/categories/technology/%E8%BD%AC%E8%BD%BD/"/>
    
    
      <category term="github" scheme="https://franklinzhang1992.github.io/tags/github/"/>
    
      <category term="Markdown" scheme="https://franklinzhang1992.github.io/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7设置打开终端的快捷键</title>
    <link href="https://franklinzhang1992.github.io/2017/10/04/set-open-terminl-shortcut-in-centos-7/"/>
    <id>https://franklinzhang1992.github.io/2017/10/04/set-open-terminl-shortcut-in-centos-7/</id>
    <published>2017-10-04T10:57:21.000Z</published>
    <updated>2018-01-08T09:45:04.024Z</updated>
    
    <content type="html"><![CDATA[<p>本文基于CentOS 7.4详细描述了如何配置打开终端的快捷键的方法。步骤如下：</p><h3 id="打开Applications，选择System-Tools-gt-Settings"><a href="#打开Applications，选择System-Tools-gt-Settings" class="headerlink" title="打开Applications，选择System Tools -&gt; Settings"></a>打开Applications，选择System Tools -&gt; Settings</h3><a id="more"></a><p><img src="/assets/img/set_open_terminl_shortcut_in_centos_7/open_settings_menu.PNG" alt="Open settings menu"></p><h3 id="在弹出的如下页面中选择Keyboard"><a href="#在弹出的如下页面中选择Keyboard" class="headerlink" title="在弹出的如下页面中选择Keyboard"></a>在弹出的如下页面中选择Keyboard</h3><p><img src="/assets/img/set_open_terminl_shortcut_in_centos_7/all_settings_page.PNG" alt="All settings page"></p><h3 id="在接下来弹出的界面中滑动滚轮至页面最下方并点击-号"><a href="#在接下来弹出的界面中滑动滚轮至页面最下方并点击-号" class="headerlink" title="在接下来弹出的界面中滑动滚轮至页面最下方并点击 + 号"></a>在接下来弹出的界面中滑动滚轮至页面最下方并点击 <strong>+</strong> 号</h3><p><img src="/assets/img/set_open_terminl_shortcut_in_centos_7/set_shortcut_page.PNG" alt="Set shortcut page"></p><h3 id="最后会弹出一个小窗口，填写如下内容即可-注：Name是此快捷键的名字，可以随便填，Command是此快捷键对应的命令，这里是打开终端的指令，最后点击Edit按钮并输入你想要的快捷键组合并点击Add即可完成设置"><a href="#最后会弹出一个小窗口，填写如下内容即可-注：Name是此快捷键的名字，可以随便填，Command是此快捷键对应的命令，这里是打开终端的指令，最后点击Edit按钮并输入你想要的快捷键组合并点击Add即可完成设置" class="headerlink" title="最后会弹出一个小窗口，填写如下内容即可(注：Name是此快捷键的名字，可以随便填，Command是此快捷键对应的命令，这里是打开终端的指令，最后点击Edit按钮并输入你想要的快捷键组合并点击Add即可完成设置)"></a>最后会弹出一个小窗口，填写如下内容即可(注：Name是此快捷键的名字，可以随便填，Command是此快捷键对应的命令，这里是打开终端的指令，最后点击Edit按钮并输入你想要的快捷键组合并点击Add即可完成设置)</h3><p><img src="/assets/img/set_open_terminl_shortcut_in_centos_7/set_shortcut.PNG" alt="Set shortcut"></p><hr><p>转载请注明：<a href="https://franklinzhang1992.github.io/">Franklin的博客</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文基于CentOS 7.4详细描述了如何配置打开终端的快捷键的方法。步骤如下：&lt;/p&gt;
&lt;h3 id=&quot;打开Applications，选择System-Tools-gt-Settings&quot;&gt;&lt;a href=&quot;#打开Applications，选择System-Tools-gt-Settings&quot; class=&quot;headerlink&quot; title=&quot;打开Applications，选择System Tools -&amp;gt; Settings&quot;&gt;&lt;/a&gt;打开Applications，选择System Tools -&amp;gt; Settings&lt;/h3&gt;
    
    </summary>
    
      <category term="technology" scheme="https://franklinzhang1992.github.io/categories/technology/"/>
    
    
      <category term="CentOS 7" scheme="https://franklinzhang1992.github.io/tags/CentOS-7/"/>
    
      <category term="shortcut" scheme="https://franklinzhang1992.github.io/tags/shortcut/"/>
    
  </entry>
  
  <entry>
    <title>Sublime3 安装Markdown插件</title>
    <link href="https://franklinzhang1992.github.io/2017/09/14/install-markdown-plugin-for-sublime3/"/>
    <id>https://franklinzhang1992.github.io/2017/09/14/install-markdown-plugin-for-sublime3/</id>
    <published>2017-09-14T13:49:34.000Z</published>
    <updated>2018-01-08T09:45:04.024Z</updated>
    
    <content type="html"><![CDATA[<p>This blog introduces two popular Markdown plugins in Sublime and describes how to install these two plugins for Sublime3.</p><h3 id="MarkdownEditing"><a href="#MarkdownEditing" class="headerlink" title="MarkdownEditing"></a><a href="https://github.com/SublimeText-Markdown/MarkdownEditing" target="_blank" rel="external">MarkdownEditing</a></h3><p>MarkdownEditing provides a decent Markdown color scheme (light and dark) with more <strong>robust</strong> syntax highlighting and useful Markdown editing features for Sublime Text. 3 flavors are supported: Standard Markdown, <strong>GitHub flavored Markdown</strong>, MultiMarkdown.</p><h3 id="OmniMarkupPreviewer"><a href="#OmniMarkupPreviewer" class="headerlink" title="OmniMarkupPreviewer"></a><a href="https://github.com/timonwong/OmniMarkupPreviewer" target="_blank" rel="external">OmniMarkupPreviewer</a></h3><a id="more"></a><p>OmniMarkupPreviewer renders markups into htmls and send it to web browser in the background, which enables a live preview. Besides, OmniMarkupPreviewer provide support for exporting result to html file as well.</p><h2 id="How-to-install-the-plugins"><a href="#How-to-install-the-plugins" class="headerlink" title="How to install the plugins"></a>How to install the plugins</h2><p>Before we start to install these two plugins, we need to install <a href="https://packagecontrol.io/installation" target="_blank" rel="external">Package Control</a>. This is the very first step because this plugin is necessary for Sublime to intall/manage plugins.</p><h3 id="Install-Package-Control"><a href="#Install-Package-Control" class="headerlink" title="Install Package Control"></a>Install Package Control</h3><ul><li><p>Open Sublime console (View -&gt; Show Console)</p></li><li><p>Paste below codes into the input box and type <strong>enter</strong>.</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import urllib.request,os,hashlib; h = &apos;6f4c264a24d933ce70df5dedcf1dcaee&apos; + &apos;ebe013ee18cced0ef93d5f746d80ef60&apos;; pf = &apos;Package Control.sublime-package&apos;; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( &apos;http://packagecontrol.io/&apos; + pf.replace(&apos; &apos;, &apos;%20&apos;)).read(); dh = hashlib.sha256(by).hexdigest(); print(&apos;Error validating download (got %s instead of %s), please try manual install&apos; % (dh, h)) if dh != h else open(os.path.join( ipp, pf), &apos;wb&apos; ).write(by)</div></pre></td></tr></table></figure><h3 id="Install-MarkdownEditing"><a href="#Install-MarkdownEditing" class="headerlink" title="Install MarkdownEditing"></a>Install MarkdownEditing</h3><ul><li>Enter Package Control. (Preferences -&gt; Package Control)</li></ul><p><img src="/assets/img/install_markdown_plugin_for_sublime3/package_control.PNG" alt="Package Control"></p><ul><li>Choose <strong>package instal</strong> and type in <strong>enter</strong>, there will be a delay because Sublimes to request for remote repository.</li></ul><p><img src="/assets/img/install_markdown_plugin_for_sublime3/choose_install_package_from_list.PNG" alt="choose install package from list"></p><ul><li>When you see the plugin list, type in <strong>MarkdownEditing</strong> and <strong>enter</strong>, then the plugin installation begins. The plugin won’t take effect until you restart Sublime.</li></ul><p><img src="/assets/img/install_markdown_plugin_for_sublime3/MarkdownEditing_in_list.PNG" alt="MarkdownEditing in plugin list"></p><h3 id="Install-OmniMarkupPreviewer"><a href="#Install-OmniMarkupPreviewer" class="headerlink" title="Install OmniMarkupPreviewer"></a>Install OmniMarkupPreviewer</h3><ul><li>Enter Package Control. (Preferences -&gt; Package Control)</li></ul><p><img src="/assets/img/install_markdown_plugin_for_sublime3/package_control.PNG" alt="Package Control"></p><ul><li>Choose <strong>package instal</strong> and type in <strong>enter</strong>, there will be a delay because Sublimes to request for remote repository.</li></ul><p><img src="/assets/img/install_markdown_plugin_for_sublime3/choose_install_package_from_list.PNG" alt="choose install package from list"></p><ul><li>When you see the plugin list, type in <strong>OmniMarkupPreviewer</strong> and <strong>enter</strong>, then the plugin installation begins. The plugin won’t take effect until you restart Sublime.</li></ul><p><img src="/assets/img/install_markdown_plugin_for_sublime3/OmniMarkupPreviewer_in_list.PNG" alt="OmniMarkupPreviewer in plugin list"></p><hr><p>转载请注明：<a href="https://franklinzhang1992.github.io/">Franklin的博客</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;This blog introduces two popular Markdown plugins in Sublime and describes how to install these two plugins for Sublime3.&lt;/p&gt;
&lt;h3 id=&quot;MarkdownEditing&quot;&gt;&lt;a href=&quot;#MarkdownEditing&quot; class=&quot;headerlink&quot; title=&quot;MarkdownEditing&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://github.com/SublimeText-Markdown/MarkdownEditing&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MarkdownEditing&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;MarkdownEditing provides a decent Markdown color scheme (light and dark) with more &lt;strong&gt;robust&lt;/strong&gt; syntax highlighting and useful Markdown editing features for Sublime Text. 3 flavors are supported: Standard Markdown, &lt;strong&gt;GitHub flavored Markdown&lt;/strong&gt;, MultiMarkdown.&lt;/p&gt;
&lt;h3 id=&quot;OmniMarkupPreviewer&quot;&gt;&lt;a href=&quot;#OmniMarkupPreviewer&quot; class=&quot;headerlink&quot; title=&quot;OmniMarkupPreviewer&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://github.com/timonwong/OmniMarkupPreviewer&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;OmniMarkupPreviewer&lt;/a&gt;&lt;/h3&gt;
    
    </summary>
    
      <category term="technology" scheme="https://franklinzhang1992.github.io/categories/technology/"/>
    
    
      <category term="Sublime3" scheme="https://franklinzhang1992.github.io/tags/Sublime3/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://franklinzhang1992.github.io/2017/09/10/hello-world/"/>
    <id>https://franklinzhang1992.github.io/2017/09/10/hello-world/</id>
    <published>2017-09-10T13:49:34.000Z</published>
    <updated>2018-01-08T09:45:04.024Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure><a id="more"></a><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="technology" scheme="https://franklinzhang1992.github.io/categories/technology/"/>
    
    
      <category term="hexo" scheme="https://franklinzhang1992.github.io/tags/hexo/"/>
    
  </entry>
  
</feed>
